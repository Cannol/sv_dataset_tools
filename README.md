# 卫星视频数据集工具包

## watch_videos.py
1. 主要用来查看已经标注好的视频序列
2. 支持缩放操作
3. 支持按帧和按序列的属性修改功能

### 1. 路径设置
在path.py中设置DATA_ROOT为数据集的根目录
根目录下有多个序列视频，被列在notice文本中

程序设置：
- SEQUENCE_STR：序列文件夹名称【不修改】
- IMG_DIR：图像序列文件夹名称【不修改】
- ATTRS_STR：属性文件夹名称【不修改】
- GT_RECT：矩形框label文件【不修改】
- GT_POLY：多边形框label文件【不修改】
- FRAME_FLAG：按帧标注的文件【不修改】
- WIN_HEIGHT：显示的窗体高，可根据自己实际情况修改
- WIN_WIDTH：显示的窗体宽，可根据自己实际情况修改

用户设置：
- SCALE_START：初始scale，在使用过程中可以使用z/x来调整尺度
- SELECT_VIDEO：选择要查看的视频序列【按照notice文本中的顺序，从0开始】
- SEARCH_RANGE：搜索范围【数据集规定的默认2.5倍，不修改】

特殊修改：
- SPECIAL_SEQS：用来设置特定的序列，用列表存储序列名称字符串，当这个变量为空或者列表为空的时候，将会读取某视频路径下所有的序列

### 2. 使用方法
1. 环境需求：Python3 + Opencv3以上版本即可
2. 打开方式：```python watch_videos.py```
进入界面后，使用快捷键控制show_all窗体的行为：
- 前进/后退： s/a
- 放大/缩小： x/z
- 快进/快退: p/o（快进快退时，再按一次即可停止）
- 设置帧属性，数字键0,1,2：分别控制正常模式、不可见模式、遮挡模式，标注方式见第3部分内容
- 退出：q（请务必用此按键退出，否则可能导致数据无法被保存，按q后会提示是否保存修改的属性，输入Y或N结束）
- 下一个视频序列： n

### 3. 帧属性标注方法
1. 在某一帧t1，按数字键1,2,0中的一个，进入对应类别的标注模式，进入标注模式后，在图像上的帧属性旁边会显示一个星号，表示当前处在标注模式下
2. 前进或后退到你需要停止标注的帧t2，再次按下数字键中1,2,0中的一个
3. 如果第一步和第二步按下的是相同的数字，那么会结束标注模式，并保存从t1～t2区间的标签结果，然后退出标注模式；如果第一步和第二步按下的是不同的数字，首先会保存t1～t2区间的标签结果，然后会以t2为起始位置开始新的标注

### 4. 序列属性标注方法
很简单，直接点选多选框即可

另外，枚红色的框代表2.5倍的搜索区域